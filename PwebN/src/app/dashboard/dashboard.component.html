<app-header></app-header>
<app-sidebar></app-sidebar>

<div class="bg-general">
  <div class="container mt-5">
    <!-- Filtros de Fecha -->
    <div class="row align-items-center mb-4">
      <div class="col-md-6">
        <div class="date-picker d-flex gap-2">
          <label>Desde:</label>
          <input type="date" [(ngModel)]="startDate">
        </div>
      </div>
      <div class="col-md-6">
        <div class="date-picker d-flex gap-2">
          <label>Hasta:</label>
          <input type="date" [(ngModel)]="endDate">
        </div>
      </div>
    </div>

    <!-- Contadores de Usuarios -->
    <div class="row mb-4">
      <div class="col-md-6">
        <div class="counter-box" routerLink="/usuarios-de-panel-web">
          <i class="fa fa-desktop"></i>
          <h3>Usuarios web</h3>
          <p>{{ webUserCount }} Usuarios</p>
        </div>
      </div>
      <div class="col-md-6">
        <div class="counter-box" routerLink="/usuarios-de-app-movil">
          <i class="fa fa-mobile-alt"></i>
          <h3>Usuarios app</h3>
          <p>{{ appUserCount }} Usuarios</p>
        </div>
      </div>
    </div>

    <!-- Botones de Acción -->
    <div class="row mb-5">
      <div class="col-12 d-flex justify-content-center gap-3">
        <button class="action-btn recargas"><i class="fa fa-dollar-sign"></i> Recargas</button>
        <button class="action-btn saldo"><i class="fa fa-credit-card"></i> Saldo Telepeaje</button>
        <button class="action-btn info"><i class="fa fa-gem"></i> Info Línea Exprés</button>
      </div>
    </div>

    <!-- Gráficos -->
    <div class="row">
      <div class="col-md-6">
        <div class="chart-container">
          <h4 class="chart-title">Mis trámites asignados</h4>
          <canvas #assignedChart></canvas>
        </div>
      </div>
      <div class="col-md-6">
        <div class="chart-container">
          <h4 class="chart-title">Categoría de trámites</h4>
          <canvas #categoryChart></canvas>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Modal para Ambiente de Pruebas -->
<div class="modal fade" id="pruebaModal" tabindex="-1" aria-labelledby="modalTitle" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content" style="border-radius: 15px;">
      <div class="modal-header">
        <h5 class="modal-title" id="modalTitle">Ambiente de pruebas</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body d-flex align-items-center">
        <div class="col-1 me-2">
          <i class="fas fa-warning"></i>
        </div>
        <p class="fw-light">Este es un ambiente de pruebas, los cambios aquí no afectan producción.</p>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-primary fw-bold"
          style="background-color: rgb(229, 00, 105); border-radius: 10px; border-color: rgb(192, 4, 92);"
          data-bs-dismiss="modal"
        >
          <i class="fas fa-check"></i> Aceptar
        </button>
      </div>
    </div>
  </div>
</div>